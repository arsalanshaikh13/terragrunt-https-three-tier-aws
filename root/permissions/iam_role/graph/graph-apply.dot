digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_caller_identity.current" [label="data.aws_caller_identity.current"];
  "aws_flow_log.example_vpc_flow_log" [label="aws_flow_log.example_vpc_flow_log"];
  "aws_iam_instance_profile.s3_ssm_cw_profile" [label="aws_iam_instance_profile.s3_ssm_cw_profile"];
  "aws_iam_policy.cloudwatch_agent_policy" [label="aws_iam_policy.cloudwatch_agent_policy"];
  "aws_iam_role.s3_ssm_CW_role" [label="aws_iam_role.s3_ssm_CW_role"];
  "aws_iam_role_policy_attachment.cloudwatch_agent_attachment" [label="aws_iam_role_policy_attachment.cloudwatch_agent_attachment"];
  "aws_iam_role_policy_attachment.s3_readonly_attach" [label="aws_iam_role_policy_attachment.s3_readonly_attach"];
  "aws_iam_role_policy_attachment.secret_manager-ReadWrite" [label="aws_iam_role_policy_attachment.secret_manager-ReadWrite"];
  "aws_iam_role_policy_attachment.ssm_core_attach" [label="aws_iam_role_policy_attachment.ssm_core_attach"];
  "aws_iam_role_policy_attachment.ssmparameter_read_only" [label="aws_iam_role_policy_attachment.ssmparameter_read_only"];
  "aws_s3_bucket.vpc_flow_logs_bucket" [label="aws_s3_bucket.vpc_flow_logs_bucket"];
  "aws_s3_bucket_acl.acl" [label="aws_s3_bucket_acl.acl"];
  "aws_s3_bucket_ownership_controls.vpc_flow_logs" [label="aws_s3_bucket_ownership_controls.vpc_flow_logs"];
  "aws_s3_bucket_policy.vpc_flow_logs" [label="aws_s3_bucket_policy.vpc_flow_logs"];
  "aws_s3_bucket_public_access_block.vpc_flow_logs" [label="aws_s3_bucket_public_access_block.vpc_flow_logs"];
  "aws_s3_bucket_server_side_encryption_configuration.SSE_config" [label="aws_s3_bucket_server_side_encryption_configuration.SSE_config"];
  "aws_flow_log.example_vpc_flow_log" -> "aws_s3_bucket.vpc_flow_logs_bucket";
  "aws_iam_instance_profile.s3_ssm_cw_profile" -> "aws_iam_role.s3_ssm_CW_role";
  "aws_iam_role_policy_attachment.cloudwatch_agent_attachment" -> "aws_iam_policy.cloudwatch_agent_policy";
  "aws_iam_role_policy_attachment.cloudwatch_agent_attachment" -> "aws_iam_role.s3_ssm_CW_role";
  "aws_iam_role_policy_attachment.s3_readonly_attach" -> "aws_iam_role.s3_ssm_CW_role";
  "aws_iam_role_policy_attachment.secret_manager-ReadWrite" -> "aws_iam_role.s3_ssm_CW_role";
  "aws_iam_role_policy_attachment.ssm_core_attach" -> "aws_iam_role.s3_ssm_CW_role";
  "aws_iam_role_policy_attachment.ssmparameter_read_only" -> "aws_iam_role.s3_ssm_CW_role";
  "aws_s3_bucket_acl.acl" -> "aws_s3_bucket_ownership_controls.vpc_flow_logs";
  "aws_s3_bucket_ownership_controls.vpc_flow_logs" -> "aws_s3_bucket.vpc_flow_logs_bucket";
  "aws_s3_bucket_policy.vpc_flow_logs" -> "data.aws_caller_identity.current";
  "aws_s3_bucket_policy.vpc_flow_logs" -> "aws_s3_bucket.vpc_flow_logs_bucket";
  "aws_s3_bucket_public_access_block.vpc_flow_logs" -> "aws_s3_bucket.vpc_flow_logs_bucket";
  "aws_s3_bucket_server_side_encryption_configuration.SSE_config" -> "aws_s3_bucket.vpc_flow_logs_bucket";
}
